# –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: Authentication & Authorization

**–ú–æ–¥—É–ª—å:** 02-Authentication-Authorization  
**–°—Ç–∞—Ç—É—Å:** üî¥ –ù–µ –Ω–∞—á–∞—Ç  
**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 0/100

---

## üìÖ –ü–õ–ê–ù –†–ê–ó–†–ê–ë–û–¢–ö–ò

### –ù–µ–¥–µ–ª—è 1: Backend Foundation
- **–î–Ω–∏ 1-2:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- **–î–Ω–∏ 3-4:** Core –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥)
- **–î–µ–Ω—å 5:** JWT —Ç–æ–∫–µ–Ω—ã –∏ refresh –º–µ—Ö–∞–Ω–∏–∑–º

### –ù–µ–¥–µ–ª—è 2: Frontend & Polish
- **–î–Ω–∏ 1-2:** Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (—Ñ–æ—Ä–º—ã –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- **–î–Ω–∏ 3-4:** RBAC middleware –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–î–µ–Ω—å 5:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –¥–µ–ø–ª–æ–π

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ BACKEND

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (4 —á–∞—Å–∞)

- [ ] **1.1** –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `users`
- [ ] **1.2** –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `roles`
- [ ] **1.3** –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `permissions`
- [ ] **1.4** –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `role_permissions`
- [ ] **1.5** –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `refresh_tokens`
- [ ] **1.6** –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- [ ] **1.7** –°–æ–∑–¥–∞—Ç—å seed –¥–∞–Ω–Ω—ã–µ –¥–ª—è –±–∞–∑–æ–≤—ã—Ö —Ä–æ–ª–µ–π (Admin, Manager, Employee)
- [ ] **1.8** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (up/down)

**–§–∞–π–ª—ã:**
```
database/migrations/20250121000004_create_users_table.sql ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
database/migrations/20250121000002_create_roles_table.sql ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
database/migrations/20250121000005_create_permissions_tables.sql ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
database/migrations/20250121000006_create_refresh_tokens_table.sql ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
database/seeds/01_seed_roles_and_permissions.sql ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
```

---

### 2. Prisma Schema (2 —á–∞—Å–∞)

- [ ] **2.1** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å `User` –≤ `schema.prisma`
- [ ] **2.2** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å `Role` –≤ `schema.prisma`
- [ ] **2.3** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å `Permission` –≤ `schema.prisma`
- [ ] **2.4** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å `RefreshToken` –≤ `schema.prisma`
- [ ] **2.5** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏
- [ ] **2.6** –í—ã–ø–æ–ª–Ω–∏—Ç—å `npx prisma generate`
- [ ] **2.7** –í—ã–ø–æ–ª–Ω–∏—Ç—å `npx prisma migrate dev`

**–§–∞–π–ª:**
```
prisma/schema.prisma
```

---

### 3. DTOs (Data Transfer Objects) (3 —á–∞—Å–∞)

- [ ] **3.1** –°–æ–∑–¥–∞—Ç—å `RegisterDto` —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
  ```typescript
  // src/dto/auth/register.dto.ts
  - email: –≤–∞–ª–∏–¥–∞—Ü–∏—è email —Ñ–æ—Ä–º–∞—Ç–∞
  - password: –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤, 1 –∑–∞–≥–ª–∞–≤–Ω–∞—è, 1 —Ü–∏—Ñ—Ä–∞
  - firstName, lastName: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
  ```

- [ ] **3.2** –°–æ–∑–¥–∞—Ç—å `LoginDto`
  ```typescript
  // src/dto/auth/login.dto.ts
  - email: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
  - password: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
  ```

- [ ] **3.3** –°–æ–∑–¥–∞—Ç—å `RefreshTokenDto`
- [ ] **3.4** –°–æ–∑–¥–∞—Ç—å `ForgotPasswordDto`
- [ ] **3.5** –°–æ–∑–¥–∞—Ç—å `ResetPasswordDto`
- [ ] **3.6** –°–æ–∑–¥–∞—Ç—å response DTOs (UserResponseDto, TokensDto)

**–§–∞–π–ª—ã:**
```
src/dto/auth/register.dto.ts
src/dto/auth/login.dto.ts
src/dto/auth/refresh-token.dto.ts
src/dto/auth/forgot-password.dto.ts
src/dto/auth/reset-password.dto.ts
src/dto/auth/responses.dto.ts
```

---

### 4. Auth Service (8 —á–∞—Å–æ–≤)

- [ ] **4.1** –°–æ–∑–¥–∞—Ç—å `AuthService` –∫–ª–∞—Å—Å
- [ ] **4.2** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `register()`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ email
  - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è (bcrypt, 10 rounds)
  - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
  
- [ ] **4.3** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `login()`
  - –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `last_login_at`
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
  
- [ ] **4.4** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `refreshToken()`
  - –í–∞–ª–∏–¥–∞—Ü–∏—è refresh token
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ access token
  
- [ ] **4.5** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `logout()`
  - –£–¥–∞–ª–µ–Ω–∏–µ refresh token –∏–∑ –ë–î
  
- [ ] **4.6** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `forgotPassword()`
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ —Å–±—Ä–æ—Å–∞
  - –û—Ç–ø—Ä–∞–≤–∫–∞ email (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å email —Å–µ—Ä–≤–∏—Å–æ–º)
  
- [ ] **4.7** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `resetPassword()`
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ —Å–±—Ä–æ—Å–∞
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è

- [ ] **4.8** –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

**–§–∞–π–ª:**
```
src/services/auth.service.ts ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–Ω–æ—Ç—É)
```

---

### 5. JWT Utilities (4 —á–∞—Å–∞)

- [ ] **5.1** –°–æ–∑–¥–∞—Ç—å `JwtService` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏
- [ ] **5.2** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `generateAccessToken(payload)`
- [ ] **5.3** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `generateRefreshToken(payload)`
- [ ] **5.4** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `verifyAccessToken(token)`
- [ ] **5.5** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `verifyRefreshToken(token)`
- [ ] **5.6** –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- [ ] **5.7** –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è JWT –º–µ—Ç–æ–¥–æ–≤

**–§–∞–π–ª:**
```
src/utils/jwt.util.ts (—Å–æ–∑–¥–∞—Ç—å)
```

---

### 6. Password Utilities (2 —á–∞—Å–∞)

- [ ] **6.1** –°–æ–∑–¥–∞—Ç—å `PasswordService`
- [ ] **6.2** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `hashPassword(password)` —Å bcrypt
- [ ] **6.3** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `comparePassword(password, hash)`
- [ ] **6.4** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `validatePasswordStrength(password)`
- [ ] **6.5** –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã

**–§–∞–π–ª:**
```
src/utils/password.util.ts (—Å–æ–∑–¥–∞—Ç—å)
```

---

### 7. Middleware (6 —á–∞—Å–æ–≤)

- [ ] **7.1** –°–æ–∑–¥–∞—Ç—å `authMiddleware` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ JWT
  ```typescript
  // src/middleware/auth.middleware.ts
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ Authorization
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ user –≤ req.user
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (401, 403)
  ```

- [ ] **7.2** –°–æ–∑–¥–∞—Ç—å `rolesMiddleware` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–µ–π
  ```typescript
  // src/middleware/roles.middleware.ts ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Å—Å–∏–≤–∞ —Ä–æ–ª–µ–π
  ```

- [ ] **7.3** –°–æ–∑–¥–∞—Ç—å `permissionsMiddleware` –¥–ª—è RBAC
  ```typescript
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
  - –§–æ—Ä–º–∞—Ç: requirePermission('tasks:create')
  ```

- [ ] **7.4** –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è middleware

**–§–∞–π–ª—ã:**
```
src/middleware/auth.middleware.ts (—Å–æ–∑–¥–∞—Ç—å)
src/middleware/roles.middleware.ts ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
src/middleware/permissions.middleware.ts (—Å–æ–∑–¥–∞—Ç—å)
```

---

### 8. Controllers (5 —á–∞—Å–æ–≤)

- [ ] **8.1** –°–æ–∑–¥–∞—Ç—å `AuthController`
- [ ] **8.2** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST `/api/auth/register`
- [ ] **8.3** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST `/api/auth/login`
- [ ] **8.4** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST `/api/auth/refresh`
- [ ] **8.5** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST `/api/auth/logout`
- [ ] **8.6** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST `/api/auth/forgot-password`
- [ ] **8.7** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST `/api/auth/reset-password`
- [ ] **8.8** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å GET `/api/auth/me`
- [ ] **8.9** –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] **8.10** –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

**–§–∞–π–ª:**
```
src/controllers/auth.controller.ts ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–Ω–æ—Ç—É)
```

---

### 9. Routes (2 —á–∞—Å–∞)

- [ ] **9.1** –°–æ–∑–¥–∞—Ç—å —Ä–æ—É—Ç–µ—Ä –¥–ª—è auth —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- [ ] **9.2** –ü–æ–¥–∫–ª—é—á–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
- [ ] **9.3** –î–æ–±–∞–≤–∏—Ç—å validation middleware
- [ ] **9.4** –î–æ–±–∞–≤–∏—Ç—å rate limiting middleware
- [ ] **9.5** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –≥–ª–∞–≤–Ω—ã–π app —Ä–æ—É—Ç–µ—Ä

**–§–∞–π–ª:**
```
src/routes/auth.routes.ts ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
```

---

### 10. Passport.js Integration (4 —á–∞—Å–∞)

- [ ] **10.1** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Passport.js
- [ ] **10.2** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å JWT Strategy
- [ ] **10.3** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Local Strategy
- [ ] **10.4** (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Telegram Strategy –¥–ª—è –±—É–¥—É—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [ ] **10.5** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

**–§–∞–π–ª:**
```
src/config/passport.ts ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é)
```

---

### 11. Rate Limiting (3 —á–∞—Å–∞)

- [ ] **11.1** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `express-rate-limit`
- [ ] **11.2** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å rate limiter –¥–ª—è login (5/15 –º–∏–Ω)
- [ ] **11.3** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å rate limiter –¥–ª—è register (3/—á–∞—Å)
- [ ] **11.4** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å rate limiter –¥–ª—è password reset
- [ ] **11.5** –î–æ–±–∞–≤–∏—Ç—å Redis store –¥–ª—è distributed rate limiting
- [ ] **11.6** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–∏–º–∏—Ç—ã

**–§–∞–π–ª:**
```
src/middleware/rate-limit.middleware.ts (—Å–æ–∑–¥–∞—Ç—å)
```

---

### 12. Audit Logging (3 —á–∞—Å–∞)

- [ ] **12.1** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º audit log –º–æ–¥—É–ª–µ–º
- [ ] **12.2** –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —É—Å–ø–µ—à–Ω—ã–µ –≤—Ö–æ–¥—ã
- [ ] **12.3** –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞
- [ ] **12.4** –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] **12.5** –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- [ ] **12.6** –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
```
src/middleware/audit-log.middleware.ts ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
src/services/audit-log.service.ts ‚úÖ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ FRONTEND

### 13. Redux Store Setup (4 —á–∞—Å–∞)

- [ ] **13.1** –°–æ–∑–¥–∞—Ç—å `authSlice` –≤ Redux
- [ ] **13.2** –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è: `user`, `tokens`, `isAuthenticated`, `loading`
- [ ] **13.3** –°–æ–∑–¥–∞—Ç—å actions: `loginSuccess`, `logout`, `setUser`
- [ ] **13.4** –°–æ–∑–¥–∞—Ç—å `authApi` —Å RTK Query
- [ ] **13.5** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å endpoints: `register`, `login`, `refresh`, `logout`, `getMe`

**–§–∞–π–ª—ã:**
```
frontend/src/features/auth/authSlice.ts (—Å–æ–∑–¥–∞—Ç—å)
frontend/src/features/auth/authApi.ts (—Å–æ–∑–¥–∞—Ç—å)
```

---

### 14. UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (8 —á–∞—Å–æ–≤)

- [ ] **14.1** –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `LoginForm`
  - Email input
  - Password input
  - Submit button
  - Link –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
  - Link –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
  
- [ ] **14.2** –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `RegisterForm`
  - Email, firstName, lastName inputs
  - Password + Confirm password
  - Submit button
  
- [ ] **14.3** –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ForgotPasswordForm`
- [ ] **14.4** –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ResetPasswordForm`
- [ ] **14.5** –°–æ–∑–¥–∞—Ç—å `PrivateRoute` wrapper
- [ ] **14.6** –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—é (Tailwind CSS)
- [ ] **14.7** –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º (React Hook Form + Yup)
- [ ] **14.8** –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (toast notifications)

**–§–∞–π–ª—ã:**
```
frontend/src/features/auth/LoginForm.tsx
frontend/src/features/auth/RegisterForm.tsx
frontend/src/features/auth/ForgotPasswordForm.tsx
frontend/src/features/auth/ResetPasswordForm.tsx
frontend/src/components/PrivateRoute.tsx
```

---

### 15. Pages (3 —á–∞—Å–∞)

- [ ] **15.1** –°–æ–∑–¥–∞—Ç—å `/login` —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] **15.2** –°–æ–∑–¥–∞—Ç—å `/register` —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] **15.3** –°–æ–∑–¥–∞—Ç—å `/forgot-password` —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] **15.4** –°–æ–∑–¥–∞—Ç—å `/reset-password` —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] **15.5** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—É—Ç–∏–Ω–≥ (React Router)

**–§–∞–π–ª—ã:**
```
frontend/src/pages/LoginPage.tsx
frontend/src/pages/RegisterPage.tsx
frontend/src/pages/ForgotPasswordPage.tsx
frontend/src/pages/ResetPasswordPage.tsx
```

---

### 16. Token Management (4 —á–∞—Å–∞)

- [ ] **16.1** –°–æ–∑–¥–∞—Ç—å `tokenStorage` —É—Ç–∏–ª–∏—Ç—É
  - `setTokens(accessToken, refreshToken)`
  - `getAccessToken()`
  - `getRefreshToken()`
  - `clearTokens()`
  
- [ ] **16.2** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Axios interceptor –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
- [ ] **16.3** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ 401 –æ—à–∏–±–∫–µ
- [ ] **16.4** –û–±—Ä–∞–±–æ—Ç–∫–∞ logout –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ refresh token

**–§–∞–π–ª:**
```
frontend/src/utils/tokenStorage.ts
frontend/src/utils/axiosInterceptor.ts
```

---

## ‚úÖ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### 17. Backend Unit Tests (6 —á–∞—Å–æ–≤)

- [ ] **17.1** –¢–µ—Å—Ç—ã –¥–ª—è `AuthService.register()`
- [ ] **17.2** –¢–µ—Å—Ç—ã –¥–ª—è `AuthService.login()`
- [ ] **17.3** –¢–µ—Å—Ç—ã –¥–ª—è `AuthService.refreshToken()`
- [ ] **17.4** –¢–µ—Å—Ç—ã –¥–ª—è `PasswordService`
- [ ] **17.5** –¢–µ—Å—Ç—ã –¥–ª—è `JwtService`
- [ ] **17.6** –¢–µ—Å—Ç—ã –¥–ª—è middleware (auth, roles, permissions)
- [ ] **17.7** –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã: `npm test`
- [ ] **17.8** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å coverage >80%

**–§–∞–π–ª—ã:**
```
src/services/__tests__/auth.service.test.ts
src/utils/__tests__/password.util.test.ts
src/utils/__tests__/jwt.util.test.ts
src/middleware/__tests__/auth.middleware.test.ts
```

---

### 18. Backend Integration Tests (4 —á–∞—Å–∞)

- [ ] **18.1** E2E —Ç–µ—Å—Ç: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –í—Ö–æ–¥ ‚Üí –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- [ ] **18.2** E2E —Ç–µ—Å—Ç: Token refresh flow
- [ ] **18.3** E2E —Ç–µ—Å—Ç: Password reset flow
- [ ] **18.4** E2E —Ç–µ—Å—Ç: Logout —Å –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ç–æ–∫–µ–Ω–∞
- [ ] **18.5** –¢–µ—Å—Ç RBAC: –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
- [ ] **18.6** –ó–∞–ø—É—Å—Ç–∏—Ç—å: `npm run test:integration`

**–§–∞–π–ª—ã:**
```
src/__tests__/integration/auth.integration.test.ts
```

---

### 19. Frontend Tests (4 —á–∞—Å–∞)

- [ ] **19.1** –¢–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `LoginForm`
- [ ] **19.2** –¢–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `RegisterForm`
- [ ] **19.3** –¢–µ—Å—Ç—ã –¥–ª—è `authSlice` reducers
- [ ] **19.4** –¢–µ—Å—Ç—ã –¥–ª—è `tokenStorage`
- [ ] **19.5** –ó–∞–ø—É—Å—Ç–∏—Ç—å: `npm test` –≤ frontend

**–§–∞–π–ª—ã:**
```
frontend/src/features/auth/__tests__/LoginForm.test.tsx
frontend/src/features/auth/__tests__/RegisterForm.test.tsx
frontend/src/features/auth/__tests__/authSlice.test.ts
```

---

### 20. Security Tests (3 —á–∞—Å–∞)

- [ ] **20.1** SQL Injection —Ç–µ—Å—Ç
- [ ] **20.2** XSS —Ç–µ—Å—Ç
- [ ] **20.3** CSRF —Ç–µ—Å—Ç
- [ ] **20.4** Brute-force —Ç–µ—Å—Ç (rate limiting)
- [ ] **20.5** JWT –ø–æ–¥–¥–µ–ª–∫–∞ —Ç–µ—Å—Ç
- [ ] **20.6** –°–ª–∞–±—ã–π –ø–∞—Ä–æ–ª—å —Ç–µ—Å—Ç
- [ ] **20.7** –ó–∞–ø—É—Å–∫ OWASP ZAP scan

---

## ‚úÖ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

### 21. API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (3 —á–∞—Å–∞)

- [ ] **21.1** –°–æ–∑–¥–∞—Ç—å OpenAPI/Swagger —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
- [ ] **21.2** –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ endpoints
- [ ] **21.3** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã request/response
- [ ] **21.4** –û–ø–∏—Å–∞—Ç—å –∫–æ–¥—ã –æ—à–∏–±–æ–∫
- [ ] **21.5** –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –Ω–∞ `/api/docs`
- [ ] **21.6** –°–æ–∑–¥–∞—Ç—å Postman –∫–æ–ª–ª–µ–∫—Ü–∏—é

**–§–∞–π–ª—ã:**
```
documentation/02-technical-specs/auth-openapi.yaml
postman/auth.postman_collection.json
```

---

### 22. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (2 —á–∞—Å–∞)

- [ ] **22.1** –û–±–Ω–æ–≤–∏—Ç—å README –º–æ–¥—É–ª—è
- [ ] **22.2** –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å environment variables
- [ ] **22.3** –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
- [ ] **22.4** Troubleshooting guide
- [ ] **22.5** Security best practices

---

## ‚úÖ –î–ï–ü–õ–û–ô –ò –ú–û–ù–ò–¢–û–†–ò–ù–ì

### 23. Environment Setup (2 —á–∞—Å–∞)

- [ ] **23.1** –°–æ–∑–¥–∞—Ç—å `.env.example`
- [ ] **23.2** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `.env` –¥–ª—è dev/staging/prod
- [ ] **23.3** –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- [ ] **23.4** –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```bash
JWT_SECRET=
JWT_REFRESH_SECRET=
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
BCRYPT_ROUNDS=10
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=5
```

---

### 24. Health Checks (1 —á–∞—Å)

- [ ] **24.1** –î–æ–±–∞–≤–∏—Ç—å `/api/auth/health` endpoint
- [ ] **24.2** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- [ ] **24.3** –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis (–¥–ª—è rate limiting)
- [ ] **24.4** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞

---

### 25. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (2 —á–∞—Å–∞)

- [ ] **25.1** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Winston/Pino)
- [ ] **25.2** –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ (Prometheus)
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ö–æ–¥–æ–≤
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
  - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ endpoints
- [ ] **25.3** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏)

---

## üìä –ú–ï–¢–†–ò–ö–ò –ó–ê–í–ï–†–®–ï–ù–ò–Ø

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ (Must Have)
- [ ] ‚úÖ –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] ‚úÖ Unit tests –ø–æ–∫—Ä—ã—Ç–∏–µ >80%
- [ ] ‚úÖ Integration tests –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] ‚úÖ Security tests –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] ‚úÖ OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞
- [ ] ‚úÖ Frontend —Ñ–æ—Ä–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] ‚úÖ RBAC –±–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- [ ] ‚úÖ Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] ‚úÖ Audit log –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ (Should Have)
- [ ] Performance: Response time <200ms
- [ ] Security: 0 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- [ ] Code review –ø—Ä–æ–π–¥–µ–Ω
- [ ] Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## üéØ DEFINITION OF DONE

–ú–æ–¥—É–ª—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º, –∫–æ–≥–¥–∞:

1. ‚úÖ –í—Å–µ —á–µ–∫–±–æ–∫—Å—ã –æ—Ç–º–µ—á–µ–Ω—ã
2. ‚úÖ –ö–æ–¥ –∑–∞–º–µ—Ä–∂–µ–Ω –≤ main –≤–µ—Ç–∫—É
3. ‚úÖ CI/CD pipeline –ø—Ä–æ—Ö–æ–¥–∏—Ç
4. ‚úÖ –î–µ–ø–ª–æ–π –Ω–∞ staging —É—Å–ø–µ—à–µ–Ω
5. ‚úÖ QA —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ
6. ‚úÖ Product Owner –ø—Ä–∏–Ω—è–ª –º–æ–¥—É–ª—å

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-22  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Backend Team Lead + Frontend Team Lead
